/* frontend/src/App.css */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Lato:wght@400;700&display=swap');

:root {
    --bulls-black: #0a0a0c;
    --bulls-gold: #c5a059;   /* Golden Dawn / Royal Gold */
    --anti-magic: #d32f2f;   /* Asta's Red */
    --mana-glow: rgba(197, 160, 89, 0.2);
    --panel-bg: #141418;
    --border-color: #333;
}

.app-container {
    font-family: 'Lato', sans-serif;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: var(--bulls-black);
    color: #e0e0e0;
    overflow: hidden;
    /* Subtle Magic Particle Background */
    background-image:
            radial-gradient(circle at 10% 20%, rgba(211, 47, 47, 0.05) 0%, transparent 20%),
            radial-gradient(circle at 90% 80%, rgba(197, 160, 89, 0.05) 0%, transparent 20%);
}

/* --- NAV: THE GRIMOIRE SPINE --- */
nav {
    height: 40px;
    padding: 0 20px;
    background: linear-gradient(90deg, #1a1a1a, #000);
    border-bottom: 2px solid var(--bulls-gold);
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 0 15px var(--mana-glow);
    z-index: 10;
}

nav h2 {
    margin: 0;
    font-family: 'Cinzel', serif; /* Fantasy Font */
    font-size: 1.1rem;
    color: var(--bulls-gold);
    text-shadow: 0 0 5px var(--bulls-gold);
    letter-spacing: 2px;
}

nav button {
    background: transparent;
    border: 1px solid #444;
    color: #888;
    padding: 4px 12px;
    font-family: 'Cinzel', serif;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
}

nav button:disabled {
    border-color: var(--anti-magic);
    color: var(--anti-magic);
    text-shadow: 0 0 8px var(--anti-magic);
    background: rgba(211, 47, 47, 0.1);
    font-weight: bold;
}

/* --- MAIN LAYOUT: MAGIC GRID --- */
.mixer-grid {
    display: grid;
    /* Inputs | Spellbook (Controls) | Outputs */
    grid-template-columns: minmax(300px, 1.2fr) 260px minmax(300px, 1fr);
    height: calc(100vh - 40px);
    gap: 2px;
    background: var(--bulls-gold); /* Thin gold lines between panels */
}

/* 1. INPUTS (Left) */
.inputs {
    background: var(--bulls-black);
    padding: 8px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 8px;
    overflow: hidden;
}

/* 2. CONTROLS (Middle) - The Spellbook Page */
.controls {
    background: var(--panel-bg);
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%231a1a1a' fill-opacity='0.4' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
    display: flex;
    flex-direction: column;
    box-shadow: inset 0 0 20px #000;
    overflow-y: auto;
}

/* 3. OUTPUT (Right) */
.output {
    background: var(--bulls-black);
    padding: 8px;
    display: grid;
    grid-template-rows: 1fr 1fr;
    gap: 8px;
}

/* --- COMPONENT STYLES --- */

/* Magic Viewers */
.viewer-wrapper {
    background: #0f0f12;
    border: 1px solid #333;
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    /* Magic Corner Accents */
    clip-path: polygon(
            0 0, 100% 0,
            100% calc(100% - 10px), calc(100% - 10px) 100%,
            0 100%
    );
}
.viewer-wrapper::before {
    content: ''; position: absolute; top:0; left:0; width: 100%; height: 2px; background: var(--bulls-gold); opacity: 0.5;
}

.viewer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 8px;
    background: linear-gradient(90deg, #1a1a1a, #000);
}

.viewer-header strong {
    font-family: 'Cinzel', serif;
    font-size: 0.7rem;
    color: var(--bulls-gold);
}

.viewer-header select {
    font-family: 'Lato', sans-serif;
    font-size: 0.65rem;
    padding: 0 4px;
    height: 18px;
    background: #222;
    color: #fff;
    border: 1px solid #444;
    text-transform: uppercase;
}

/* The Image Container */
.img-container {
    flex: 1;
    background: #050505;
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Output Ports */
.output-port {
    background: #050505;
    border: 1px solid #333;
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
}

.output-label {
    position: absolute; top: 0; left: 0;
    background: var(--anti-magic); color: #fff;
    padding: 2px 8px; font-size: 0.65rem;
    font-family: 'Cinzel', serif;
    font-weight: bold;
    clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%);
    z-index: 10;
}

/* --- CUSTOM SLIDERS (MANA BARS) --- */
input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    background: transparent;
    margin: 4px 0;
}
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 12px; width: 12px;
    border-radius: 50%;
    background: var(--bulls-gold);
    border: 2px solid #000;
    cursor: pointer;
    margin-top: -4px;
    box-shadow: 0 0 5px var(--bulls-gold);
}
input[type=range]::-webkit-slider-runnable-track {
    width: 100%; height: 4px;
    background: #333;
    border-radius: 2px;
}